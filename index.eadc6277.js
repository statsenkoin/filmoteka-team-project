async function t(t){try{const n=fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=e55542ecb6aab3d889d16953eac82937&page=${t}`);return(await n).json()}catch(t){return console.log("error :>> ",t)}}async function n(){return(await async function(){try{const t=fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e55542ecb6aab3d889d16953eac82937");return(await t).json()}catch(t){return console.log("error :>> ",t)}}()).genres}let e,o,i,a,r,c=1;function s(t,n,a){i=a,c=t,o=n,e=function(t,n){const e=[];let o,i;const a=Math.floor(4.5);t<1?t=1:t>n&&(t=n);n<=9?(o=1,i=n):t<=a?(o=1,i=9):t+a>=n?(o=n-2*a,i=n):(o=t-a,i=t+a);for(let t=o;t<=i;t+=1)e.push(t);e.splice(0,1,1),e.splice(e.length-1,1,n),t-1>a&&n>9&&e.splice(1,1," ..."),t+1+a<n&&n>9&&e.splice(e.length-2,1,"... ");return e}(c,o),function(t,n){let e=t.reduce(((t,n)=>t+`<button type="button" ${n===c?'class="pagination-button pagination-button-current"':'class="pagination-button"'}>${n}</button>`),"");o>9&&(e='<button type="button" class="pagination-button">&lt;</button>'+e,e+='<button type="button" class="pagination-button">&gt;</button>');n.innerHTML="",n.insertAdjacentHTML("beforeend",e)}(e,i)}function p(t){if("BUTTON"!==t.target.nodeName)return;const n=t.target.textContent;return isNaN(Number(n))||(a=Number(n)),">"===n&&(a=c===o?o:c+1),"<"===n&&(a=1===c?1:c-1)," ..."===n&&(a=c-5),"... "===n&&(a=c+5),c=a,c}const u=document.querySelector(".gallery");u.addEventListener("click",(function(t){const n=t.target.closest(".film-box");if(!n)return;const e=Number(n.dataset.id);h(r.find((t=>t.id===e)),l)}));const l=document.querySelector(".modal-film-info");let d,b=1,g=1;const f=document.querySelector(".pagination");async function m(){const n=await t(g);r=n.results,b=n.total_pages,$(r,u),s(g,b,f)}f.addEventListener("click",(async function(t){const n=p(t);if(n===g)return;g=n,await m()})),async function(){d=await n(),await m()}();function y(t){return d.filter((n=>t.includes(n.id))).map((t=>t.name)).join(", ")}async function $(t,n){let e=t.reduce(((t,{poster_path:n,release_date:e,genre_ids:o,id:i,original_title:a})=>t+`<div class="film-box" data-id="${i}">\n      <img class="film-poster"src="https://image.tmdb.org/t/p/w300${n}">\n      <p>${a}</p>\n      <p> ${y(o)}</p>\n      <p> ${parseInt(e)}</p>\n      <p>id: ${i}</p>\n      </div>`),"");n.innerHTML=e}async function h(t,n){const{title:e,poster_path:o,overview:i,genre_ids:a,id:r,original_title:c,popularity:s,vote_count:p,vote_average:u}=t,l=`<div class="film-info">\n         <img src="https://image.tmdb.org/t/p/w300${o}">\n         <div class="film-info-wrapper">\n           <p>${e}</p>\n           <p>Vote ${u}</p>\n           <p>Votes ${p}</p>\n           <p>Popularity ${s}</p>\n           <p>Original Title ${c}</p>\n           <p>Genre ${y(a)}</p>\n           <p>ABOUT</p>\n           <p>${i}</p>\n           <p>id: ${r}</p>\n           <button type="button">Add to watched</button>\n           <button type="button">Add to queue</button>\n         </div>\n        </div>`;n.innerHTML=l}
//# sourceMappingURL=index.eadc6277.js.map
